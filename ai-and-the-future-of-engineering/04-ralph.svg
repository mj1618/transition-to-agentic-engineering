<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" width="900" height="600">
  <defs>
    <!-- Gradient for Planner agent -->
    <linearGradient id="plannerGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#667eea"/>
      <stop offset="100%" stop-color="#764ba2"/>
    </linearGradient>
    
    <!-- Gradient for Executor agent -->
    <linearGradient id="executorGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f093fb"/>
      <stop offset="100%" stop-color="#f5576c"/>
    </linearGradient>
    
    <!-- Task list background -->
    <linearGradient id="taskListGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#ffffff"/>
      <stop offset="100%" stop-color="#f8f9fa"/>
    </linearGradient>
    
    <!-- Arrow markers -->
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#667eea"/>
    </marker>
    <marker id="arrowheadPink" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#f5576c"/>
    </marker>
  </defs>
  
  <style>
    /* Loop arrow animations */
    .loop-planner {
      animation: dashFlow 2s linear infinite;
    }
    .loop-executor {
      animation: dashFlowReverse 2s linear infinite;
    }
    @keyframes dashFlow {
      to { stroke-dashoffset: -24; }
    }
    @keyframes dashFlowReverse {
      to { stroke-dashoffset: 24; }
    }
    
    /* Arrow flow animations */
    .arrow-to-task {
      animation: arrowFlow 1s linear infinite;
    }
    .arrow-to-executor {
      animation: arrowFlowReverse 1s linear infinite;
    }
    @keyframes arrowFlow {
      to { stroke-dashoffset: -18; }
    }
    @keyframes arrowFlowReverse {
      to { stroke-dashoffset: 18; }
    }
    
    /* Spinner rotation */
    .spinner {
      transform-origin: 12px 12px;
      animation: spin 1.2s linear infinite;
    }
    @keyframes spin {
      to { transform: rotate(360deg); }
    }
    
    /* Pulsing indicators */
    .pulse {
      animation: pulse 1.5s ease-in-out infinite;
    }
    .pulse-slow {
      animation: pulse 2s ease-in-out infinite;
    }
    @keyframes pulse {
      0%, 100% { opacity: 0.3; transform: scale(1); }
      50% { opacity: 0.6; transform: scale(1.3); }
    }
    
    /* Pencil writing animation */
    .pencil {
      animation: write 0.8s ease-in-out infinite;
    }
    @keyframes write {
      0%, 100% { opacity: 0.9; }
      50% { opacity: 0.5; }
    }
    
    /* Text typing effect */
    .typing {
      animation: blink 1s step-end infinite;
    }
    @keyframes blink {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.6; }
    }
    
    /* Gear rotation */
    .gear {
      transform-origin: 0px -5px;
      animation: gearSpin 6s linear infinite;
    }
    @keyframes gearSpin {
      to { transform: rotate(360deg); }
    }
  </style>
  
  <!-- Background -->
  <rect width="900" height="600" fill="#f0f4f8"/>
  
  <!-- Title -->
  <text x="450" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="24" font-weight="bold" fill="#2d3748">Planner-Executor Task Flow</text>
  
  <!-- ========== PLANNER AGENT (Left Side) ========== -->
  <g transform="translate(100, 300)">
    <!-- Shadow -->
    <circle cx="53" cy="53" r="45" fill="#00000020"/>
    <!-- Agent circle -->
    <circle cx="50" cy="50" r="45" fill="url(#plannerGrad)"/>
    
    <!-- Brain icon -->
    <g transform="translate(26, 26)">
      <path d="M 24 8 C 20 4, 14 4, 12 8 C 8 6, 4 10, 6 16 C 2 18, 2 24, 6 28 C 4 32, 8 38, 14 36 C 16 40, 22 40, 26 36 C 32 38, 38 34, 36 28 C 40 24, 40 18, 36 16 C 38 10, 34 6, 28 8 C 28 6, 26 6, 24 8 Z" 
            fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M 20 12 L 20 36" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" opacity="0.7"/>
      <path d="M 12 18 Q 16 22, 20 20" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" opacity="0.7"/>
      <path d="M 12 28 Q 16 26, 20 28" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" opacity="0.7"/>
      <path d="M 28 18 Q 24 22, 20 20" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" opacity="0.7"/>
      <path d="M 28 28 Q 24 26, 20 28" fill="none" stroke="white" stroke-width="1.5" stroke-linecap="round" opacity="0.7"/>
    </g>
    
    <!-- Agent label -->
    <text x="50" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#667eea">Planner</text>
    <text x="50" y="153" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666666">Agent</text>
    
    <!-- Circular loop arrow -->
    <g transform="translate(50, 50)">
      <!-- Loop arc (270 degrees) -->
      <path class="loop-planner" d="M 0 -62 A 62 62 0 1 1 -62 0" fill="none" stroke="#667eea" stroke-width="2.5" stroke-dasharray="8,4" opacity="0.8"/>
      <!-- Arrow head -->
      <polygon points="-62,-8 -54,0 -70,0" fill="#667eea"/>
      <!-- Loop label -->
      <text x="0" y="-72" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#667eea" font-weight="bold">LOOP</text>
    </g>
    
    <!-- Status label -->
    <text x="50" y="193" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#888888" font-style="italic">Creating new task...</text>
  </g>
  
  <!-- Arrow from Planner to Task List -->
  <g>
    <path class="arrow-to-task" d="M 200 350 Q 270 380 280 430 Q 290 450 340 445" fill="none" stroke="#667eea" stroke-width="3" stroke-dasharray="6,3" marker-end="url(#arrowhead)"/>
    <!-- Label badge -->
    <rect x="220" y="395" width="85" height="22" rx="4" fill="#667eea"/>
    <text x="262" y="411" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" font-weight="bold" fill="white">PLANNING</text>
    <!-- Indicator dot -->
    <circle cx="345" cy="442" r="5" fill="#667eea"/>
  </g>
  
  <!-- ========== TASK LIST (Center) ========== -->
  <g transform="translate(350, 80)">
    <!-- Shadow -->
    <rect x="3" y="3" width="200" height="440" rx="12" fill="#00000015"/>
    <!-- Task list container -->
    <rect x="0" y="0" width="200" height="440" rx="12" fill="url(#taskListGrad)" stroke="#e0e0e0" stroke-width="2"/>
    
    <!-- Header -->
    <rect x="0" y="0" width="200" height="45" rx="12" fill="#4a5568"/>
    <rect x="0" y="30" width="200" height="15" fill="#4a5568"/>
    <text x="100" y="28" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">Task List</text>
    
    <!-- Task 1 - Completed -->
    <g transform="translate(15, 60)">
      <rect x="0" y="0" width="24" height="24" rx="4" fill="#48bb78" stroke="#38a169" stroke-width="2"/>
      <path d="M 6 12 L 10 16 L 18 8" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <text x="34" y="17" font-family="Arial, sans-serif" font-size="13" fill="#2d3748">Analyze requirements</text>
    </g>
    
    <!-- Task 2 - Completed -->
    <g transform="translate(15, 100)">
      <rect x="0" y="0" width="24" height="24" rx="4" fill="#48bb78" stroke="#38a169" stroke-width="2"/>
      <path d="M 6 12 L 10 16 L 18 8" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <text x="34" y="17" font-family="Arial, sans-serif" font-size="13" fill="#2d3748">Design architecture</text>
    </g>
    
    <!-- Task 3 - Completed -->
    <g transform="translate(15, 140)">
      <rect x="0" y="0" width="24" height="24" rx="4" fill="#48bb78" stroke="#38a169" stroke-width="2"/>
      <path d="M 6 12 L 10 16 L 18 8" fill="none" stroke="white" stroke-width="3" stroke-linecap="round" stroke-linejoin="round"/>
      <text x="34" y="17" font-family="Arial, sans-serif" font-size="13" fill="#2d3748">Setup environment</text>
    </g>
    
    <!-- Task 4 - In Progress (Current for Executor) -->
    <g transform="translate(15, 180)">
      <rect x="-5" y="-5" width="180" height="34" rx="6" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
      <rect x="0" y="0" width="24" height="24" rx="4" fill="#f59e0b" stroke="#d97706" stroke-width="2"/>
      <!-- Spinning progress indicator -->
      <circle class="spinner" cx="12" cy="12" r="7" fill="none" stroke="white" stroke-width="2.5" stroke-dasharray="11 33" stroke-linecap="round"/>
      <text x="34" y="17" font-family="Arial, sans-serif" font-size="13" font-weight="bold" fill="#92400e">Implement core logic</text>
    </g>
    
    <!-- Task 5 - Pending -->
    <g transform="translate(15, 230)">
      <rect x="0" y="0" width="24" height="24" rx="4" fill="white" stroke="#cbd5e0" stroke-width="2"/>
      <text x="34" y="17" font-family="Arial, sans-serif" font-size="13" fill="#718096">Write unit tests</text>
    </g>
    
    <!-- Task 6 - Pending -->
    <g transform="translate(15, 270)">
      <rect x="0" y="0" width="24" height="24" rx="4" fill="white" stroke="#cbd5e0" stroke-width="2"/>
      <text x="34" y="17" font-family="Arial, sans-serif" font-size="13" fill="#718096">Integration testing</text>
    </g>
    
    <!-- Task 7 - Pending -->
    <g transform="translate(15, 310)">
      <rect x="0" y="0" width="24" height="24" rx="4" fill="white" stroke="#cbd5e0" stroke-width="2"/>
      <text x="34" y="17" font-family="Arial, sans-serif" font-size="13" fill="#718096">Code review</text>
    </g>
    
    <!-- Task 8 - Being written by Planner -->
    <g transform="translate(15, 350)">
      <rect x="-5" y="-5" width="180" height="34" rx="6" fill="#e9d5ff" stroke="#a855f7" stroke-width="2" stroke-dasharray="4,2"/>
      <rect x="0" y="0" width="24" height="24" rx="4" fill="white" stroke="#a855f7" stroke-width="2" stroke-dasharray="4,2"/>
      <text class="typing" x="34" y="17" font-family="Arial, sans-serif" font-size="13" fill="#7c3aed" font-style="italic">Deploy to prod...</text>
      <!-- Pencil icon -->
      <g class="pencil" transform="translate(155, 3)">
        <path d="M 0 18 L 3 15 L 15 3 L 18 6 L 6 18 Z" fill="#667eea"/>
        <path d="M 0 18 L 0 21 L 3 18 Z" fill="#667eea"/>
      </g>
    </g>
    
    <!-- Status legend -->
    <g transform="translate(15, 400)">
      <circle cx="6" cy="8" r="5" fill="#48bb78"/>
      <text x="16" y="12" font-family="Arial, sans-serif" font-size="9" fill="#666666">Done</text>
      <circle cx="56" cy="8" r="5" fill="#f59e0b"/>
      <text x="66" y="12" font-family="Arial, sans-serif" font-size="9" fill="#666666">In Progress</text>
      <circle cx="126" cy="8" r="5" fill="white" stroke="#cbd5e0" stroke-width="1.5"/>
      <text x="136" y="12" font-family="Arial, sans-serif" font-size="9" fill="#666666">Pending</text>
    </g>
  </g>
  
  <!-- Arrow from Task List to Executor -->
  <g>
    <path class="arrow-to-executor" d="M 560 268 L 680 268" fill="none" stroke="#f5576c" stroke-width="2.5" stroke-dasharray="6,3" marker-end="url(#arrowheadPink)"/>
    <!-- Label badge -->
    <rect x="585" y="245" width="75" height="18" rx="4" fill="#f5576c"/>
    <text x="622" y="258" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" font-weight="bold" fill="white">EXECUTING</text>
  </g>
  
  <!-- ========== EXECUTOR AGENT (Right Side) ========== -->
  <g transform="translate(700, 150)">
    <!-- Shadow -->
    <circle cx="53" cy="53" r="45" fill="#00000020"/>
    <!-- Agent circle -->
    <circle cx="50" cy="50" r="45" fill="url(#executorGrad)"/>
    
    <!-- Gear/Cog icon -->
    <g transform="translate(50, 55)">
      <path d="M -3 -22 L 3 -22 L 4 -18 L 7 -17 L 10 -20 L 15 -15 L 12 -12 L 13 -9 L 17 -8 L 17 -2 L 13 -1 L 12 2 L 15 5 L 10 10 L 7 7 L 4 8 L 3 12 L -3 12 L -4 8 L -7 7 L -10 10 L -15 5 L -12 2 L -13 -1 L -17 -2 L -17 -8 L -13 -9 L -12 -12 L -15 -15 L -10 -20 L -7 -17 L -4 -18 Z" 
            fill="none" stroke="white" stroke-width="2.5" stroke-linejoin="round"/>
      <circle cx="0" cy="-5" r="6" fill="none" stroke="white" stroke-width="2.5"/>
    </g>
    
    <!-- Agent label -->
    <text x="50" y="135" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#f5576c">Executor</text>
    <text x="50" y="153" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#666666">Agent</text>
    
    <!-- Circular loop arrow -->
    <g transform="translate(50, 50)">
      <!-- Loop arc (270 degrees) -->
      <path class="loop-executor" d="M 0 -62 A 62 62 0 1 0 62 0" fill="none" stroke="#f5576c" stroke-width="2.5" stroke-dasharray="8,4" opacity="0.8"/>
      <!-- Arrow head -->
      <polygon points="62,-8 54,0 70,0" fill="#f5576c"/>
      <!-- Loop label -->
      <text x="0" y="-72" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#f5576c" font-weight="bold">LOOP</text>
    </g>
    
    <!-- Status label -->
    <text x="50" y="193" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#888888" font-style="italic">Executing tasks...</text>
  </g>
  
  <!-- Connection line from Executor to current task -->
  <g>
    <path d="M 700 268 L 560 268" fill="none" stroke="#f5576c" stroke-width="1.5" opacity="0.4"/>
    <circle cx="555" cy="268" r="4" fill="#f5576c"/>
  </g>
  
  <!-- Subtitle -->
  <text x="450" y="575" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="#718096">Planner creates tasks continuously while Executor processes them sequentially</text>
</svg>