<?xml version="1.0" encoding="UTF-8"?>
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 900 600" width="900" height="600">
  <defs>
    <linearGradient id="brainGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#667eea"/>
      <stop offset="100%" stop-color="#764ba2"/>
    </linearGradient>
    
    <linearGradient id="humanBrainGrad" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" stop-color="#f59e0b"/>
      <stop offset="100%" stop-color="#d97706"/>
    </linearGradient>
    
    <linearGradient id="tokenGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#818cf8"/>
      <stop offset="100%" stop-color="#6366f1"/>
    </linearGradient>
    
    <linearGradient id="fatigueGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#fb923c"/>
      <stop offset="100%" stop-color="#ea580c"/>
    </linearGradient>
    
    <linearGradient id="performanceGrad" x1="0%" y1="0%" x2="100%" y2="0%">
      <stop offset="0%" stop-color="#10b981"/>
      <stop offset="50%" stop-color="#fbbf24"/>
      <stop offset="100%" stop-color="#ef4444"/>
    </linearGradient>
    
    <linearGradient id="contextWindowGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#e0e7ff"/>
      <stop offset="100%" stop-color="#c7d2fe"/>
    </linearGradient>
    
    <linearGradient id="fillGrad" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" stop-color="#a5b4fc"/>
      <stop offset="100%" stop-color="#818cf8"/>
    </linearGradient>
    
    <clipPath id="tankClip">
      <rect x="0" y="0" width="120" height="200" rx="8"/>
    </clipPath>
    
    <filter id="glow" x="-20%" y="-20%" width="140%" height="140%">
      <feGaussianBlur stdDeviation="3" result="coloredBlur"/>
      <feMerge>
        <feMergeNode in="coloredBlur"/>
        <feMergeNode in="SourceGraphic"/>
      </feMerge>
    </filter>
  </defs>
  
  <style>
    .token-fall {
      animation: tokenDrop 3s ease-in infinite;
    }
    .token-fall-2 {
      animation: tokenDrop 3s ease-in infinite 0.5s;
    }
    .token-fall-3 {
      animation: tokenDrop 3s ease-in infinite 1s;
    }
    .token-fall-4 {
      animation: tokenDrop 3s ease-in infinite 1.5s;
    }
    @keyframes tokenDrop {
      0% { transform: translateY(-30px); opacity: 1; }
      80% { transform: translateY(120px); opacity: 1; }
      100% { transform: translateY(120px); opacity: 0; }
    }
    
    .fill-rise {
      animation: fillUp 6s ease-out infinite;
    }
    @keyframes fillUp {
      0% { height: 40px; y: 160px; }
      85% { height: 180px; y: 20px; }
      100% { height: 40px; y: 160px; }
    }
    
    .pulse-warning {
      animation: warningPulse 2s ease-in-out infinite;
    }
    @keyframes warningPulse {
      0%, 100% { opacity: 0.3; }
      50% { opacity: 1; }
    }
    
    .brain-dim {
      animation: dimming 6s ease-out infinite;
    }
    @keyframes dimming {
      0% { opacity: 1; filter: brightness(1); }
      85% { opacity: 0.5; filter: brightness(0.6); }
      100% { opacity: 1; filter: brightness(1); }
    }
    
    .performance-line {
      animation: perfDrop 6s ease-out infinite;
    }
    @keyframes perfDrop {
      0% { stroke-dashoffset: 0; }
      85% { stroke-dashoffset: 0; }
      100% { stroke-dashoffset: 0; }
    }
    
    .tired-eyes {
      animation: eyesDroop 6s ease-out infinite;
    }
    @keyframes eyesDroop {
      0% { transform: scaleY(1); }
      85% { transform: scaleY(0.3); }
      100% { transform: scaleY(1); }
    }
    
    .sweat-drop {
      animation: sweat 2s ease-in-out infinite;
    }
    @keyframes sweat {
      0% { transform: translateY(0); opacity: 0; }
      50% { opacity: 1; }
      100% { transform: translateY(15px); opacity: 0; }
    }
  </style>
  
  <!-- Background -->
  <rect width="900" height="600" fill="#f8fafc"/>
  
  <!-- Title -->
  <text x="450" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="26" font-weight="bold" fill="#1e293b">Context Window Fatigue</text>
  <text x="450" y="65" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" fill="#64748b">AI agents degrade as tokens accumulate - just like humans tire on long tasks</text>
  
  <!-- ========== LEFT SIDE: AI Context Window ========== -->
  <g transform="translate(50, 100)">
    <text x="130" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4338ca">AI Agent</text>
    
    <!-- AI Brain Icon -->
    <g transform="translate(85, 20)" class="brain-dim">
      <circle cx="45" cy="45" r="40" fill="#00000015"/>
      <circle cx="42" cy="42" r="40" fill="url(#brainGrad)"/>
      <path d="M 42 15 C 30 15, 20 25, 22 38 C 15 42, 15 55, 22 60 C 20 70, 28 78, 40 76 C 45 82, 55 82, 60 76 C 72 78, 80 70, 78 60 C 85 55, 85 42, 78 38 C 80 25, 70 15, 58 15 C 55 10, 48 10, 42 15 Z" 
            fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
      <path d="M 42 25 L 42 65" fill="none" stroke="white" stroke-width="1.5" opacity="0.6"/>
      <path d="M 30 35 Q 36 42, 42 38" fill="none" stroke="white" stroke-width="1.5" opacity="0.6"/>
      <path d="M 54 35 Q 48 42, 42 38" fill="none" stroke="white" stroke-width="1.5" opacity="0.6"/>
      <path d="M 30 52 Q 36 48, 42 52" fill="none" stroke="white" stroke-width="1.5" opacity="0.6"/>
      <path d="M 54 52 Q 48 48, 42 52" fill="none" stroke="white" stroke-width="1.5" opacity="0.6"/>
    </g>
    
    <!-- Context Window Tank -->
    <g transform="translate(70, 130)">
      <text x="60" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#6366f1" font-weight="bold">Context Window</text>
      
      <!-- Tank outline -->
      <rect x="0" y="0" width="120" height="200" rx="8" fill="url(#contextWindowGrad)" stroke="#6366f1" stroke-width="2"/>
      
      <!-- Fill level (animated) -->
      <rect class="fill-rise" x="4" y="160" width="112" height="40" rx="4" fill="url(#fillGrad)" opacity="0.8"/>
      
      <!-- Measurement lines -->
      <line x1="125" y1="20" x2="135" y2="20" stroke="#94a3b8" stroke-width="1.5"/>
      <text x="140" y="24" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Full</text>
      <line x1="125" y1="100" x2="135" y2="100" stroke="#94a3b8" stroke-width="1.5"/>
      <text x="140" y="104" font-family="Arial, sans-serif" font-size="9" fill="#64748b">50%</text>
      <line x1="125" y1="180" x2="135" y2="180" stroke="#94a3b8" stroke-width="1.5"/>
      <text x="140" y="184" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Start</text>
      
      <!-- Falling tokens -->
      <g transform="translate(25, 0)">
        <rect class="token-fall" x="0" y="-30" width="18" height="10" rx="2" fill="url(#tokenGrad)"/>
        <text class="token-fall" x="9" y="-22" text-anchor="middle" font-family="monospace" font-size="7" fill="white">tok</text>
      </g>
      <g transform="translate(50, 0)">
        <rect class="token-fall-2" x="0" y="-30" width="18" height="10" rx="2" fill="url(#tokenGrad)"/>
        <text class="token-fall-2" x="9" y="-22" text-anchor="middle" font-family="monospace" font-size="7" fill="white">tok</text>
      </g>
      <g transform="translate(75, 0)">
        <rect class="token-fall-3" x="0" y="-30" width="18" height="10" rx="2" fill="url(#tokenGrad)"/>
        <text class="token-fall-3" x="9" y="-22" text-anchor="middle" font-family="monospace" font-size="7" fill="white">tok</text>
      </g>
      
      <!-- Warning indicator -->
      <g class="pulse-warning" transform="translate(95, 5)">
        <circle cx="12" cy="12" r="10" fill="#ef4444"/>
        <text x="12" y="17" text-anchor="middle" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="white">!</text>
      </g>
    </g>
    
    <!-- Labels -->
    <text x="130" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#475569">Tokens fill the context</text>
    <text x="130" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#475569">window over time</text>
  </g>
  
  <!-- ========== CENTER: Human Fatigue ========== -->
  <g transform="translate(290, 100)">
    <text x="130" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#b45309">Human Worker</text>
    
    <!-- Human Head with fatigue -->
    <g transform="translate(85, 20)">
      <circle cx="45" cy="45" r="40" fill="#00000015"/>
      <circle cx="42" cy="42" r="40" fill="url(#humanBrainGrad)"/>
      
      <!-- Face -->
      <g class="tired-eyes" style="transform-origin: 42px 35px;">
        <ellipse cx="30" cy="35" rx="6" ry="8" fill="white"/>
        <ellipse cx="54" cy="35" rx="6" ry="8" fill="white"/>
        <circle cx="30" cy="37" r="3" fill="#1e293b"/>
        <circle cx="54" cy="37" r="3" fill="#1e293b"/>
      </g>
      
      <!-- Tired mouth -->
      <path d="M 30 55 Q 42 50 54 55" fill="none" stroke="white" stroke-width="2.5" stroke-linecap="round"/>
      
      <!-- Sweat drops -->
      <g class="sweat-drop" transform="translate(65, 25)">
        <path d="M 0 0 Q 3 5 0 10 Q -3 5 0 0" fill="#60a5fa"/>
      </g>
    </g>
    
    <!-- Mental energy tank -->
    <g transform="translate(70, 130)">
      <text x="60" y="-5" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#ea580c" font-weight="bold">Mental Energy</text>
      
      <!-- Tank outline -->
      <rect x="0" y="0" width="120" height="200" rx="8" fill="#fef3c7" stroke="#ea580c" stroke-width="2"/>
      
      <!-- Energy drain (animated - inverse of fill) -->
      <rect class="fill-rise" x="4" y="160" width="112" height="40" rx="4" fill="url(#fatigueGrad)" opacity="0.8"/>
      
      <!-- Drain indicator -->
      <g transform="translate(130, 80)">
        <path d="M 0 0 L 20 0 L 20 10 L 30 -5 L 20 -20 L 20 -10 L 0 -10 Z" fill="#f97316" opacity="0.7"/>
        <text x="35" y="-2" font-family="Arial, sans-serif" font-size="9" fill="#c2410c">Draining</text>
      </g>
    </g>
    
    <!-- Labels -->
    <text x="130" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#475569">Mental fatigue builds</text>
    <text x="130" y="375" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#475569">from sustained focus</text>
  </g>
  
  <!-- ========== RIGHT: Performance Graph ========== -->
  <g transform="translate(550, 100)">
    <text x="140" y="0" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#1e293b">Performance Over Time</text>
    
    <!-- Graph background -->
    <rect x="0" y="20" width="280" height="180" rx="8" fill="white" stroke="#e2e8f0" stroke-width="2"/>
    
    <!-- Grid lines -->
    <line x1="40" y1="50" x2="260" y2="50" stroke="#f1f5f9" stroke-width="1"/>
    <line x1="40" y1="90" x2="260" y2="90" stroke="#f1f5f9" stroke-width="1"/>
    <line x1="40" y1="130" x2="260" y2="130" stroke="#f1f5f9" stroke-width="1"/>
    <line x1="40" y1="170" x2="260" y2="170" stroke="#f1f5f9" stroke-width="1"/>
    
    <!-- Axes -->
    <line x1="40" y1="30" x2="40" y2="190" stroke="#94a3b8" stroke-width="2"/>
    <line x1="40" y1="190" x2="270" y2="190" stroke="#94a3b8" stroke-width="2"/>
    
    <!-- Y-axis labels -->
    <text x="35" y="55" text-anchor="end" font-family="Arial, sans-serif" font-size="9" fill="#64748b">100%</text>
    <text x="35" y="95" text-anchor="end" font-family="Arial, sans-serif" font-size="9" fill="#64748b">75%</text>
    <text x="35" y="135" text-anchor="end" font-family="Arial, sans-serif" font-size="9" fill="#64748b">50%</text>
    <text x="35" y="175" text-anchor="end" font-family="Arial, sans-serif" font-size="9" fill="#64748b">25%</text>
    
    <!-- X-axis labels -->
    <text x="50" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Start</text>
    <text x="150" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">Time</text>
    <text x="250" y="205" text-anchor="middle" font-family="Arial, sans-serif" font-size="9" fill="#64748b">End</text>
    
    <!-- Performance curve (degradation) -->
    <path d="M 50 50 Q 100 55 130 75 Q 160 100 190 130 Q 220 160 250 175" 
          fill="none" stroke="url(#performanceGrad)" stroke-width="4" stroke-linecap="round"/>
    
    <!-- Data points -->
    <circle cx="50" cy="50" r="5" fill="#10b981"/>
    <circle cx="100" cy="58" r="5" fill="#22c55e"/>
    <circle cx="150" cy="85" r="5" fill="#eab308"/>
    <circle cx="200" cy="130" r="5" fill="#f97316"/>
    <circle cx="250" cy="175" r="5" fill="#ef4444"/>
    
    <!-- Axis titles -->
    <text x="5" y="115" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569" transform="rotate(-90, 5, 115)">Performance</text>
    <text x="155" y="220" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569">Duration / Token Count</text>
    
    <!-- Legend -->
    <g transform="translate(70, 235)">
      <circle cx="0" cy="0" r="4" fill="#10b981"/>
      <text x="8" y="4" font-family="Arial, sans-serif" font-size="9" fill="#475569">Fresh</text>
      <circle cx="60" cy="0" r="4" fill="#eab308"/>
      <text x="68" y="4" font-family="Arial, sans-serif" font-size="9" fill="#475569">Mid-session</text>
      <circle cx="150" cy="0" r="4" fill="#ef4444"/>
      <text x="158" y="4" font-family="Arial, sans-serif" font-size="9" fill="#475569">Exhausted</text>
    </g>
  </g>
  
  <!-- ========== KEY INSIGHT BOX ========== -->
  <g transform="translate(550, 380)">
    <rect x="0" y="0" width="280" height="90" rx="10" fill="#fef3c7" stroke="#f59e0b" stroke-width="2"/>
    <text x="140" y="25" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#92400e">Key Insight</text>
    <text x="140" y="48" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#78350f">Long-running AI agents accumulate</text>
    <text x="140" y="64" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#78350f">context that dilutes their focus,</text>
    <text x="140" y="80" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#78350f">just like mental fatigue in humans.</text>
  </g>
  
  <!-- ========== BOTTOM SUMMARY ========== -->
  <g transform="translate(50, 490)">
    <!-- Token explanation -->
    <g transform="translate(0, 0)">
      <rect x="0" y="0" width="250" height="70" rx="8" fill="#eef2ff" stroke="#6366f1" stroke-width="1.5"/>
      <rect x="10" y="12" width="30" height="14" rx="3" fill="url(#tokenGrad)"/>
      <text x="25" y="23" text-anchor="middle" font-family="monospace" font-size="8" fill="white">token</text>
      <text x="50" y="22" font-family="Arial, sans-serif" font-size="11" fill="#4338ca" font-weight="bold">= piece of text</text>
      <text x="125" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569">Every message, code snippet, and</text>
      <text x="125" y="58" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569">response adds tokens to context</text>
    </g>
    
    <!-- Context window explanation -->
    <g transform="translate(270, 0)">
      <rect x="0" y="0" width="250" height="70" rx="8" fill="#f0fdf4" stroke="#22c55e" stroke-width="1.5"/>
      <rect x="10" y="10" width="20" height="30" rx="3" fill="#bbf7d0" stroke="#22c55e" stroke-width="1"/>
      <rect x="12" y="25" width="16" height="13" rx="2" fill="#86efac"/>
      <text x="45" y="22" font-family="Arial, sans-serif" font-size="11" fill="#166534" font-weight="bold">Context Window</text>
      <text x="125" y="45" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569">The AI working memory -</text>
      <text x="125" y="58" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569">limited and fills up over time</text>
    </g>
    
    <!-- Solution hint -->
    <g transform="translate(540, 0)">
      <rect x="0" y="0" width="250" height="70" rx="8" fill="#f0f9ff" stroke="#0ea5e9" stroke-width="1.5"/>
      <text x="125" y="20" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#0369a1" font-weight="bold">The Solution</text>
      <text x="125" y="40" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569">Fresh starts, task boundaries,</text>
      <text x="125" y="53" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569">and context summarization help</text>
      <text x="125" y="66" text-anchor="middle" font-family="Arial, sans-serif" font-size="10" fill="#475569">agents stay sharp longer</text>
    </g>
  </g>
  
  <!-- Footer -->
  <text x="450" y="585" text-anchor="middle" font-family="Arial, sans-serif" font-size="11" fill="#94a3b8">The longer an agent runs, the more its performance degrades - schedule breaks and fresh contexts</text>
</svg>
